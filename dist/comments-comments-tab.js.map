{"version":3,"file":"comments-comments-tab.js?v=860b205d1778643823c3","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///nextcloud/apps/comments/src/comments-tab.js"],"sourcesContent":["/**\n * @copyright Copyright (c) 2020 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n// Init Comments tab component\nlet TabInstance = null;\nconst commentTab = new OCA.Files.Sidebar.Tab({\n  id: 'comments',\n  name: t('comments', 'Comments'),\n  icon: 'icon-comment',\n\n  async mount(el, fileInfo, context) {\n    if (TabInstance) {\n      TabInstance.$destroy();\n    }\n\n    TabInstance = new OCA.Comments.View('files', {\n      // Better integration with vue parent component\n      parent: context\n    }); // Only mount after we have all the info we need\n\n    await TabInstance.update(fileInfo.id);\n    TabInstance.$mount(el);\n  },\n\n  update(fileInfo) {\n    TabInstance.update(fileInfo.id);\n  },\n\n  destroy() {\n    TabInstance.$destroy();\n    TabInstance = null;\n  },\n\n  scrollBottomReached() {\n    TabInstance.onScrollBottomReached();\n  }\n\n});\nwindow.addEventListener('DOMContentLoaded', function () {\n  if (OCA.Files && OCA.Files.Sidebar) {\n    OCA.Files.Sidebar.registerTab(commentTab);\n  }\n});"],"names":[],"sourceRoot":""}